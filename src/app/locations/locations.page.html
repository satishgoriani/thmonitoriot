<ion-header>
  <app-holatoolbar title="{{locationobj.locationtypename}} - {{locationobj.name}}" iconName="home-outline"></app-holatoolbar>
</ion-header>

<ion-content class="ion-content-grey">
<ion-grid class="ion-no-padding">
<ion-row>
  <ion-col size="12" sizeMd="3">
    <ion-card color="{{statuscolor}}" class="cardrow1">
      <ion-item class="LargeNormal statusitem" lines="none" color="{{statuscolor}}">
        <ion-label>{{statusmsg}}</ion-label>
        <img src="{{statusimg}}" class="statusimg">
      </ion-item>
    </ion-card>
  </ion-col>
  <ion-col size="12" sizeMd="3">
    <ion-card style="cursor: pointer;" (click)="setChartForAttribute('Temperature')" color="{{tempcolor}}" class="cardrow1">
      <ion-item  class="VLargeNormal statusitem" lines="none" color="{{tempcolor}}">
        <ion-label>{{locationobj.currenttemp}}°C <ion-text class="SmallNormal"><p>Temperature</p></ion-text></ion-label>
        <img src="../../assets/icon/temp.png" class="statusimg">
      </ion-item>
    </ion-card>
  </ion-col>
  <ion-col size="12" sizeMd="3">
    <ion-card style="cursor: pointer;" (click)="setChartForAttribute('Humidity')" color="{{humiditycolor}}" class="cardrow1">
      <ion-item class="VLargeNormal statusitem" lines="none" color="{{humiditycolor}}">
        <ion-label>{{locationobj.currenthumidity}}% <ion-text class="SmallNormal"><p>Humidity</p></ion-text></ion-label>
        <img src="../../assets/icon/humidity.png" class="statusimg">
      </ion-item>
    </ion-card>
  </ion-col>
  <ion-col size="12" sizeMd="3">
    <ion-card class="cardrow1">
      <ion-item class="SmallNormal" color="accent" lines="none">
        <ion-label>Sensor</ion-label>
        <ion-icon name="hardware-chip-outline" slot="end"></ion-icon>
      </ion-item>
      <ion-item lines="none">
        <ion-label class="sensordetails">
          <!--<ion-text><p><span class="fieldname">Serial No:</span>&nbsp;XYZ-ABC</p></ion-text>
          <ion-text><p><span class="fieldname">Model:</span>&nbsp;Dummy data</p></ion-text>-->
          <ion-text><p><span class="fieldname">Last Reading:</span>&nbsp;<span class="SmallBold">{{locationobj._lastChangedAt | date : 'd MMM, HH:mm'}}</span></p></ion-text>
        </ion-label>
      </ion-item>
    </ion-card>
  </ion-col>
  <ion-col size="12" sizeMd="9">
    <ion-card class="cardrow2">
      <ion-card-header>
      <ion-card-subtitle>Timeseries Trends For</ion-card-subtitle>
      <ion-card-title>{{selectedproperty}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="Wid100 aligncenter">
        <ion-spinner *ngIf="!dataObtained" name="lines"></ion-spinner>
      </div>
      <canvas #variationChart></canvas>
    </ion-card-content>
    </ion-card>
  </ion-col>
  <ion-col size="12" sizeMd="3">
    <ion-card class="cardrow2">
    <ion-card-content class="ion-no-padding">
      <ion-item lines="none" class="SmallNormal">
        <ion-label class="ion-text-center" color="primary">Air Quality</ion-label>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('Co2')" class="VSmallNormal" lines="none">
          <ion-img class="myicon" src="../../assets/icon/co2.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentco2level >= locationobj.co2levelmin) &&  (locationobj.currentco2level <= locationobj.co2levelmax)">CO2 : {{locationobj.currentco2level}} ppm</ion-label>
          <ion-label *ngIf="(locationobj.currentco2level < locationobj.co2levelmin) || (locationobj.currentco2level > locationobj.co2levelmax)" color="danger">CO2 : {{locationobj.currentco2level}} ppm</ion-label>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('Pressure')" class="VSmallNormal" lines="none">
        <ion-img  class="myicon" src="../../assets/icon/pressure.png"></ion-img>
        <ion-text *ngIf="(locationobj.currentbarometricpressure >= locationobj.barometricpressuremin) &&  (locationobj.currentbarometricpressure <= locationobj.barometricpressuremax)">Barometric Pressure : {{locationobj.currentbarometricpressure}} kPa</ion-text>
        <ion-text *ngIf="(locationobj.currentbarometricpressure < locationobj.barometricpressuremin) || (locationobj.currentbarometricpressure > locationobj.barometricpressuremax)" color="danger">Barometric Pressure : {{locationobj.currentbarometricpressure}} kPa</ion-text>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('PM 2.5')" class="VSmallNormal" lines="none">
          <ion-img class="myicon" src="../../assets/icon/pm25.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentpm2pt5level >= locationobj.pm2pt5levelmin) &&  (locationobj.currentpm2pt5level <= locationobj.pm2pt5levelmax)">PM2.5 : {{locationobj.currentpm2pt5level}} μg/m3</ion-label>
          <ion-label *ngIf="(locationobj.currentpm2pt5level < locationobj.pm2pt5levelmin) || (locationobj.currentpm2pt5level > locationobj.pm2pt5levelmax)" color="danger">PM2.5 : {{locationobj.currentpm2pt5level}} μg/m3</ion-label>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('PM 10')" class="VSmallNormal" lines="none">
          <ion-img  class="myicon" src="../../assets/icon/pm10.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentpm10level >= locationobj.pm10levelmin) &&  (locationobj.currentpm10level <= locationobj.pm10levelmax)">PM10 : {{locationobj.currentpm10level}} μg/m3</ion-label>
          <ion-label *ngIf="(locationobj.currentpm10level < locationobj.pm10levelmin) || (locationobj.currentpm10level > locationobj.pm10levelmax)" color="danger">PM10 : {{locationobj.currentpm10level}} μg/m3</ion-label>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('TVOC')" class="VSmallNormal" lines="none">
          <ion-img  class="myicon" src="../../assets/icon/tvoc.png"></ion-img>
          <ion-label *ngIf="(locationobj.currenttvoclevel >= locationobj.tvoclevelmin) &&  (locationobj.currenttvoclevel <= locationobj.tvoclevelmax)">TVOC : {{locationobj.currenttvoclevel}} ppb</ion-label>
          <ion-label *ngIf="(locationobj.currenttvoclevel < locationobj.tvoclevelmin) || (locationobj.currenttvoclevel > locationobj.tvoclevelmax)" color="danger">TVOC : {{locationobj.currenttvoclevel}} ppb</ion-label>
      </ion-item>
      <ion-item style="cursor: pointer;" (click)="setChartForAttribute('HCHO')"  class="VSmallNormal" lines="none">
          <ion-img class="myicon" src="../../assets/icon/hcho.png"></ion-img>
          <ion-label *ngIf="(locationobj.currenthcholevel >= locationobj.hcholevelmin) &&  (locationobj.currenthcholevel <= locationobj.hcholevelmax)">HCHO : {{locationobj.currenthcholevel}} ppm</ion-label>
          <ion-label *ngIf="(locationobj.currenthcholevel < locationobj.hcholevelmin) || (locationobj.currenthcholevel > locationobj.hcholevelmax)" color="danger">HCHO : {{locationobj.currenthcholevel}} ppm</ion-label>
      </ion-item>
     <!-- <ion-item class="VSmallNormal" lines="none">
          <ion-img class="myicon" src="../../assets/icon/o3.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentozonelevel >= locationobj.ozonelevelmin) &&  (locationobj.currentozonelevel <= locationobj.ozonelevelmax)">Ozone : {{locationobj.currentozonelevel}} ppb</ion-label>
          <ion-label *ngIf="(locationobj.currentozonelevel < locationobj.ozonelevelmin) || (locationobj.currentozonelevel > locationobj.ozonelevelmax)" color="danger">Ozone : {{locationobj.currentozonelevel}} ppb</ion-label>
      </ion-item>-->
      <ion-item  style="cursor: pointer;" (click)="setChartForAttribute('Light Level')" class="VSmallNormal" lines="none">
          <ion-img  class="myicon" src="../../assets/icon/lux.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentillumination >= locationobj.illuminationmin) &&  (locationobj.currentillumination <= locationobj.illuminationmax)">Light Level: {{locationobj.currentillumination}} </ion-label>
          <ion-label *ngIf="(locationobj.currentillumination < locationobj.illuminationmin) || (locationobj.currentillumination > locationobj.illuminationmax)" color="danger">Light Level: {{locationobj.currentillumination}} </ion-label>
      </ion-item>
      <!--<ion-item class="VSmallNormal" lines="none">
          <ion-img class="myicon" src="../../assets/icon/sound.png"></ion-img>
          <ion-label *ngIf="(locationobj.currentsound >= locationobj.soundmin) &&  (locationobj.currentsound <= locationobj.soundmax)">Sound : {{locationobj.currentsound}} dB</ion-label>
          <ion-label *ngIf="(locationobj.currentsound < locationobj.soundmin) || (locationobj.currentsound > locationobj.soundmax)" color="danger">Sound : {{locationobj.currentsound}} dB</ion-label>
      </ion-item>-->
     </ion-card-content>
    </ion-card>
  </ion-col>
  </ion-row>
  </ion-grid>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="editLocation()">
      <ion-icon name="create-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
