<ion-header class="ion-no-border">
  <app-holatoolbar flat="true"  showMenu="true" title="{{dataService.company.name}}"></app-holatoolbar>

  <ion-row class="selectfilter">
    <ion-col  size="6" class="noPad">
        <ion-item lines="none">
          <ion-label position="floating">Select Locationtype</ion-label>
          <ion-select mode="md" interface="popover" [(ngModel)]="dataService.dashboardlocationtypeid" value="dataService.dashboardlocationtypeid" (ionChange)="segmentChanged()">
            <ion-select-option *ngFor="let item of dataService.locationtypelist;" value="{{item.id}}">{{item.name}}
            </ion-select-option>
          </ion-select>
        </ion-item>
    </ion-col>

    <ion-col size="6" class="noPad">
        <ion-item lines="none">
          <ion-label position="floating" >Filter</ion-label>
          <ion-select interface="popover" [(ngModel)]="defaultfilter">
            <ion-select-option *ngFor="let item of filterlist;" value="{{item.type}}">{{item.type}}
            </ion-select-option>
           </ion-select>
       </ion-item>
    </ion-col>

    </ion-row>

</ion-header>

<ion-content class="ion-content-grey">

  <div class="myphoto" *ngIf="dataService.locationlist.length == 0">
    <img src="../../assets/warehouse.png" id="imgPlacement">
    <h4>No Locations Added yet</h4>
    <ion-label>click (+) button to add new Location</ion-label>
  </div>

  <div *ngIf="dataService.locationlist && dataService.locationlist.length > 0">


    <!--<div class="upperdiv">
      <ion-row>

        <ion-col size="6" class="selectcol">
          <ion-label class="VSmallNormal">Select Locationtype</ion-label>
          <ion-item class="dropdwn">
            <ion-select interface="popover" [(ngModel)]="dataService.dashboardlocationtypeid" value="dataService.dashboardlocationtypeid" (ionChange)="segmentChanged()">
              <ion-select-option *ngFor="let item of dataService?.locationtypelist;" value="{{item.id}}">{{item.name}}
              </ion-select-option>
                </ion-select>
          </ion-item>
        </ion-col>
        <ion-col size="6" class="selectcol">
          <ion-label class="VSmallNormal">Filter</ion-label>
          <ion-item class="dropdwn">
            <ion-select interface="popover" [(ngModel)]="defaultfilter">
              <ion-select-option *ngFor="let item of filterlist;" value="{{item.type}}">{{item.type}}
              </ion-select-option>

            </ion-select>
          </ion-item>
        </ion-col>

      </ion-row>
    </div> -->



    <!-- ** dashboard grid view ** -->
    <ion-grid class="listcard">
      <ion-row>
        <ion-col size="6" class="smallPad" *ngFor="let item of dataService.dashboardlocationlist">
          <ion-card (click)="viewLocation(item)">
            <ion-row style="color: var(ion-text-color);">
              <ion-col>
                <ion-icon name="home-outline" style="vertical-align:text-bottom;"></ion-icon><ion-label style="font-size: large;"> No: {{item.name}}</ion-label>
              </ion-col>
            </ion-row>

              <div  class="ion-text-center">
                  <ion-badge *ngIf="item.currenttemp && item.currenttemp >=  item.temperaturemin &&  item.currenttemp <=  item.temperaturemax " class="tempbadge normaltemp">{{item.currenttemp ? item.currenttemp : 5}}°C</ion-badge>
                  <ion-badge *ngIf="item.currenttemp && item.currenttemp <  item.temperaturemin" class="tempbadge lowtemp">{{item.currenttemp ? item.currenttemp : 5}}°C</ion-badge>
                  <ion-badge *ngIf="item.currenttemp && item.currenttemp >  item.temperaturemax" class="tempbadge hightemp">{{item.currenttemp ? item.currenttemp : 5}}°C</ion-badge>

              </div>

            <div class="ion-text-center sensorstatus">  {{item._lastChangedAt | date : 'd MMM, HH:mm'}}
              <ion-icon class="greenDot" name="ellipse"></ion-icon>
            </div>
            <br/>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addLocation()">
      <ion-icon name="add">
      </ion-icon>
    </ion-fab-button>
    <!--<ion-fab-button>
      <ion-icon name="notifications">
      </ion-icon>
      <ion-badge *ngIf="n" id="cart-badge" color="danger">{{ n}}</ion-badge>
    </ion-fab-button>-->
  </ion-fab>

</ion-content>
